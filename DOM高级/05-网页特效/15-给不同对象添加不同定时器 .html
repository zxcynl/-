<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			div{
				position: relative;
				width: 100px;
				height: 100px;
				background-color: pink;
			}
			span{
				position: relative;
			}
		</style>
	</head>
	<body>
		<div></div>
		<span>123</span>
		<script>
			// 简单动画函数疯封装 obj 目标对象 target 目标位置
			// 给不同的元素指定了不同的定时器
			function animate(obj,target){
				// 当我们不断的点击按钮，这个元素的速度会越来越快，因为给了太多的定时器
				clearInterval(obj.timer);// 每点击一次，都清除一次
				// 解决办法
				obj.timer = setInterval(function(){
					if(obj.offsetLeft >= target){
						//停止动画本质是停止定时器
						clearInterval(obj.timer);
					}
					obj.style.left = obj.offsetLeft + 1 + 'px';
				},30);	
			}
			var div = document.querySelector('div');
			// 调用函数
			animate(div,300);
			var span = document.querySelector('span');
			animate(span,200);
		</script>
	</body>
</html>